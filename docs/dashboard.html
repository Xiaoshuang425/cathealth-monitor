<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>猫咪健康管理中心 - CatHealth</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #D4A574;
            --primary-light: #E8D0B3;
            --secondary: #A8C8B8;
            --accent: #8DB596;
            --light: #F8F4E9;
            --light-bg: #FDF8F0;
            --dark: #5C4B37;
            --gray: #8A7E6F;
            --sidebar-width: 280px;
        }

        body {
            background: var(--light-bg);
            color: var(--dark);
            display: flex;
            min-height: 100vh;
        }

        /* 侧边栏样式 - 米色版本 */
        .sidebar {
            width: var(--sidebar-width);
            background: linear-gradient(180deg, var(--primary) 0%, var(--primary-light) 100%);
            color: var(--dark);
            padding: 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            border-right: 1px solid var(--primary-light);
        }

        .sidebar-header {
            padding: 30px 20px;
            text-align: center;
            border-bottom: 1px solid rgba(90, 70, 50, 0.1);
            background: var(--primary);
        }

        .sidebar-header h1 {
            font-size: 1.5rem;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .sidebar-header p {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .sidebar-nav {
            padding: 20px 0;
            background: var(--light);
        }

        .nav-section {
            margin-bottom: 20px;
        }

        .nav-title {
            padding: 10px 20px;
            font-size: 0.8rem;
            text-transform: uppercase;
            opacity: 0.6;
            letter-spacing: 1px;
            color: var(--dark);
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: var(--dark);
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: var(--primary-light);
            border-left-color: var(--secondary);
        }

        .nav-item.active {
            background: var(--primary-light);
            border-left-color: var(--secondary);
            font-weight: 600;
        }

        .nav-item i {
            width: 20px;
            margin-right: 12px;
            font-size: 1.1rem;
            color: var(--dark);
        }

        /* 主内容区样式 */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 0;
            background: var(--light-bg);
        }

        .top-bar {
            background: var(--light);
            padding: 20px 30px;
            border-bottom: 1px solid var(--primary-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            padding: 8px 15px;
            border-radius: 8px;
            transition: background 0.3s ease;
        }

        .user-info:hover {
            background: var(--primary-light);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--dark);
            font-weight: bold;
        }

        .content-area {
            padding: 30px;
        }

        .welcome-banner {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: var(--dark);
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
            border: 1px solid var(--primary-light);
        }

        .welcome-banner h2 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }

        .analysis-section {
            background: var(--light);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid var(--primary-light);
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .upload-area {
            border: 2px dashed var(--primary);
            padding: 40px;
            text-align: center;
            border-radius: 10px;
            margin: 20px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--light-bg);
        }

        .upload-area:hover {
            border-color: var(--secondary);
            background: var(--light);
        }

        .upload-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .detection-results {
            margin-top: 20px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid var(--primary-light);
        }

        .result-item {
            background: var(--light-bg);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid var(--secondary);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--light);
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            text-align: center;
            border-left: 4px solid var(--secondary);
            border: 1px solid var(--primary-light);
        }

        .stat-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--dark);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .pets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .pet-card {
            background: var(--light);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
            border: 1px solid var(--primary-light);
        }

        .pet-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.12);
        }

        .pet-header {
            background: var(--secondary);
            color: var(--dark);
            padding: 20px;
            text-align: center;
        }

        .pet-avatar {
            width: 80px;
            height: 80px;
            background: var(--primary);
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--dark);
        }

        .pet-body {
            padding: 20px;
        }

        .pet-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .info-item {
            text-align: center;
        }

        .info-label {
            font-size: 0.8rem;
            color: var(--gray);
            margin-bottom: 5px;
        }

        .info-value {
            font-weight: 600;
            color: var(--dark);
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: var(--primary);
            color: var(--dark);
        }

        .btn-primary:hover {
            background: var(--primary-light);
        }

        .btn-analysis {
            background: var(--secondary);
            color: var(--dark);
            margin-top: 15px;
        }

        .btn-analysis:hover {
            background: #7DAE8B;
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                z-index: 1000;
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- 侧边栏 -->
    <div class="sidebar">
        <div class="sidebar-header">
            <h1><i class="fas fa-paw"></i> CatHealth</h1>
            <p>猫咪健康管理中心</p>
        </div>
        
        <nav class="sidebar-nav">
            <div class="nav-section">
                <div class="nav-title">主要功能</div>
                <a href="#" class="nav-item active">
                    <i class="fas fa-home"></i>控制面板
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-robot"></i>AI排泄物分析
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-cat"></i>猫咪档案
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-heartbeat"></i>健康监测
                </a>
            </div>
            
            <div class="nav-section">
                <div class="nav-title">智能分析</div>
                <a href="#" class="nav-item">
                    <i class="fas fa-chart-line"></i>健康趋势
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-map-marker-alt"></i>位置追踪
                </a>
            </div>
            
            <div class="nav-section">
                <div class="nav-title">管理</div>
                <a href="#" class="nav-item">
                    <i class="fas fa-bell"></i>提醒设置
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-file-medical"></i>医疗记录
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-cog"></i>系统设置
                </a>
            </div>
        </nav>
    </div>

    <!-- 主内容区 -->
    <div class="main-content">
        <div class="top-bar">
            <h2>控制面板</h2>
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div>
                    <div id="user-name">用户</div>
                    <div style="font-size: 0.8rem; color: var(--gray);" id="user-email">邮箱</div>
                </div>
            </div>
        </div>

        <div class="content-area">
            <div class="welcome-banner">
                <h2>欢迎回来！ </h2>
                <p>使用AI智能分析，全方位守护猫咪健康</p>
            </div>

            <!-- 粪便检测功能区 - 放在首页顶部 -->
            <div class="analysis-section">
                <div class="section-title">
                    <i class="fas fa-robot"></i> AI排泄物智能分析
                </div>
                <p style="margin-bottom: 20px; color: var(--gray);">上传猫咪排泄物照片，AI自动分析健康状态</p>
                
                <div class="upload-area" id="upload-area">
                    <div class="upload-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <h3>点击上传排泄物图片</h3>
                    <p>支持 JPG、PNG 格式，最大 5MB</p>
                    <input type="file" id="image-upload" accept="image/*" style="display: none;">
                    <button class="btn btn-analysis" onclick="document.getElementById('image-upload').click()">
                        <i class="fas fa-upload"></i> 选择图片
                    </button>
                </div>
                
                <div class="detection-results" id="detection-results" style="display: none;">
                    <h4><i class="fas fa-chart-bar"></i> 分析结果</h4>
                    <div class="result-item">
                        <strong>健康状态:</strong> <span style="color: #28a745;">正常</span>
                    </div>
                    <div class="result-item">
                        <strong>检测到的特征:</strong> 正常排泄物形态，无异常
                    </div>
                    <div class="result-item">
                        <strong>置信度:</strong> 92%
                    </div>
                    <div class="result-item">
                        <strong>建议:</strong> 继续保持当前饮食和护理习惯
                    </div>
                </div>
            </div>

            <!-- 健康统计 -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-heartbeat"></i></div>
                    <div class="stat-value">98%</div>
                    <div class="stat-label">整体健康指数</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-utensils"></i></div>
                    <div class="stat-value">正常</div>
                    <div class="stat-label">饮食状态</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-running"></i></div>
                    <div class="stat-value">85%</div>
                    <div class="stat-label">活动水平</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-weight"></i></div>
                    <div class="stat-value">4.2kg</div>
                    <div class="stat-label">平均体重</div>
                </div>
            </div>

            <!-- 我的猫咪 - 放在粪便检测下面 -->
            <div class="section-title">
                <i class="fas fa-paw"></i> 我的猫咪
            </div>
            <div class="pets-grid">
                <div class="pet-card">
                    <div class="pet-header">
                        <div class="pet-avatar">
                            <i class="fas fa-cat"></i>
                        </div>
                        <h3>咪咪</h3>
                        <p>英国短毛猫  3岁</p>
                    </div>
                    <div class="pet-body">
                        <div class="pet-info">
                            <div class="info-item">
                                <div class="info-label">体重</div>
                                <div class="info-value">4.2kg</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">体温</div>
                                <div class="info-value">38.2C</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">健康指数</div>
                                <div class="info-value" style="color: #28a745;">98%</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">活动量</div>
                                <div class="info-value">85%</div>
                            </div>
                        </div>
                        <button class="btn btn-primary" style="width: 100%;">
                            <i class="fas fa-chart-line"></i> 查看详细报告
                        </button>
                    </div>
                </div>

                <div class="pet-card">
                    <div class="pet-header">
                        <div class="pet-avatar">
                            <i class="fas fa-cat"></i>
                        </div>
                        <h3>小白</h3>
                        <p>波斯猫  2岁</p>
                    </div>
                    <div class="pet-body">
                        <div class="pet-info">
                            <div class="info-item">
                                <div class="info-label">体重</div>
                                <div class="info-value">3.8kg</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">体温</div>
                                <div class="info-value">38.5C</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">健康指数</div>
                                <div class="info-value" style="color: #28a745;">95%</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">活动量</div>
                                <div class="info-value">78%</div>
                            </div>
                        </div>
                        <button class="btn btn-primary" style="width: 100%;">
                            <i class="fas fa-chart-line"></i> 查看详细报告
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 显示用户信息
        try {
            const userData = localStorage.getItem('currentUser');
            if (userData) {
                const user = JSON.parse(userData);
                document.getElementById('user-name').textContent = user.name;
                document.getElementById('user-email').textContent = user.email;
            } else {
                window.location.href = 'index.html';
            }
        } catch (error) {
            console.log('用户信息加载失败:', error);
            window.location.href = 'index.html';
        }

        // 图片上传功能
        document.getElementById('image-upload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                console.log('选择图片:', file.name);
                
                // 显示加载状态
                const uploadArea = document.getElementById('upload-area');
                uploadArea.innerHTML = `
                    <div class="upload-icon">
                        <i class="fas fa-spinner fa-spin"></i>
                    </div>
                    <h3>分析中...</h3>
                    <p>AI正在分析排泄物图片</p>
                `;
                
                // 模拟分析过程
                setTimeout(() => {
                    // 显示分析结果
                    document.getElementById('detection-results').style.display = 'block';
                    
                    // 恢复上传区域
                    uploadArea.innerHTML = `
                        <div class="upload-icon">
                            <i class="fas fa-check-circle" style="color: #28a745;"></i>
                        </div>
                        <h3>分析完成！</h3>
                        <p>点击可重新上传图片</p>
                        <button class="btn btn-analysis" onclick="document.getElementById('image-upload').click()">
                            <i class="fas fa-sync-alt"></i> 重新上传
                        </button>
                    `;
                    
                    alert('AI分析完成！猫咪健康状况良好。');
                }, 2000);
            }
        });

        // 侧边栏导航功能
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                
                // 移除所有active类
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                
                // 添加active类到当前项
                this.classList.add('active');
                
                // 更新顶部标题
                const navText = this.textContent.trim();
                document.querySelector('.top-bar h2').textContent = navText;
            });
        });

        // 退出登录
        document.querySelector('.user-info').addEventListener('click', function() {
            if (confirm('确定要退出登录吗？')) {
                localStorage.removeItem('currentUser');
                window.location.href = 'index.html';
            }
        });

        console.log('新版仪表板加载完成 - 粪便检测功能在首页');
    </script>
</body>
</html>
